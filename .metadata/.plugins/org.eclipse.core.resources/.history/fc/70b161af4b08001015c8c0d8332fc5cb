package com.yong.bbs;

import java.sql.*;
import java.util.*;

public class BbsDAO {

	private Connection conn;
	private PreparedStatement ps;
	private ResultSet rs;

	public BbsDAO() {
		// TODO Auto-generated constructor stub
	}

	/** 글쓰기 관련 메서드 */
	public int bbsWrite(BbsDTO dto) {
		try {
			conn = com.yong.db.YongDB.getConn();
			String sql = "insert into jsp_bbs values(jsp_bbs_idx.nextval,?,?,?,?,sysdate,0,0,0,0)";

			ps = conn.prepareStatement(sql);
			ps.setString(1, dto.getWriter());
			ps.setString(2, dto.getPwd());
			ps.setString(3, dto.getTitle());
			ps.setString(4, dto.getContent());

			int count = ps.executeUpdate();
			return count;

		} catch (Exception e) {
			e.printStackTrace();
			return -1;
		} finally {
			try {
				if (ps != null)
					ps.close();
				if (conn != null)
					conn.close();
			} catch (Exception e2) {

			}
		}
	}
}
